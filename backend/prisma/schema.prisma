generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  username   String   @unique
  email      String   @unique
  password   String
  apodo      String?
  rut        String?
  region     String?
  comuna     String?
  role       String?  @default("user")
  id_familia Int?
  id_usuario Int      @id @default(autoincrement())
  gastos     Gasto[]
  familia    Familia? @relation(fields: [id_familia], references: [id_familia])
}

model Gasto {
  descripcion String
  fecha       DateTime
  abono       Float?
  gasto       Float?
  saldo       Float?
  id_gasto    Int      @id @default(autoincrement())
  id_usuario  Int
  user        User     @relation(fields: [id_usuario], references: [id_usuario])
}

model Familia {
  id_familia Int    @id @default(autoincrement())
  nombre     String @unique
  ingresos   Int
  usuarios   User[]
}
