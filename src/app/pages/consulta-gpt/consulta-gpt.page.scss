ion-content {
  // Un fondo muy sutil, casi blanco, para el área del chat
  --background: #f9f9fb;
}

.chat-container {
  display: flex;
  flex-direction: column;
  gap: 16px; // Espacio entre mensajes
}

.chat-message {
  display: flex;
  align-items: flex-end;
  gap: 10px;
  max-width: 85%;

  .message-bubble {
    padding: 12px 18px;
    border-radius: 20px;
    word-wrap: break-word; // Para que el texto largo se ajuste
    
    p {
      margin: 0;
      line-height: 1.5;
    }
  }
}

/* === ¡ESTA ES LA CORRECCIÓN! === */

// Mensajes del Usuario
.user-message {
  align-self: flex-end; // Alinea a la derecha

  .message-bubble {
    // Usamos el degradado de tu marca
    background: linear-gradient(135deg, var(--ion-color-primary), var(--ion-color-secondary));
    color: var(--ion-color-primary-contrast);
    border-bottom-right-radius: 4px; // Efecto "cola" de la burbuja
  }
}

// Mensajes del Bot
.bot-message {
  align-self: flex-start; // Alinea a la izquierda

  ion-avatar {
    width: 36px;
    height: 36px;
    // Un toque sutil al avatar del bot
    img {
      filter: saturate(0.8);
      opacity: 0.9;
    }
  }

  .message-bubble {
    // Fondo gris claro para diferenciar del fondo de la página
    background-color: #e9eaf2;
    color: #333;
    border-bottom-left-radius: 4px; // Efecto "cola" de la burbuja
  }
}

/* --- Mejoras en la barra de entrada --- */

ion-footer ion-toolbar {
  --background: #ffffff;
  --border-width: 1px 0 0 0;
  --border-color: #e0e0e0;
  padding: 8px 4px; // Padding vertical y horizontal
}

.chat-input-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.chat-input {
  background: #f1f1f5;
  border-radius: 20px;
  padding-left: 12px !important;
  padding-right: 12px !important;
}

.send-button {
  --box-shadow: none; // Sin sombra
}

/* --- Ajustes para modo oscuro --- */
body.dark {
  ion-content {
    --background: #0d0d0d;
  }
  .bot-message .message-bubble {
    background-color: #2c2c2e;
    color: #f5f5f5;
  }
  ion-footer ion-toolbar {
    --background: #1c1c1e;
    --border-color: #333;
  }
  .chat-input {
    background: #3a3a3c;
  }
}